!function(){"use strict";if(!window.umamiSelfExclusion)return;const e="umami.disabled",n="umami-exclusion-toggle";function t(){return"1"===localStorage.getItem(e)}function i(){if(!umamiSelfExclusion.isLoggedIn)return s(umamiSelfExclusion.messages.loginRequired),void setTimeout(function(){window.location.href=umamiSelfExclusion.loginUrl},1500);umamiSelfExclusion.canExclude&&(t()?(localStorage.removeItem(e),o(!1),s(umamiSelfExclusion.messages.included)):(localStorage.setItem(e,"1"),o(!0),s(umamiSelfExclusion.messages.excluded)))}function o(e){const t=document.getElementById(n);if(t&&(t.textContent=e?umamiSelfExclusion.messages.excludedButton:umamiSelfExclusion.messages.includedButton,e?(t.classList.add("excluded"),t.classList.remove("included")):(t.classList.add("included"),t.classList.remove("excluded"))),umamiSelfExclusion.showAdminBar){const n=document.getElementById("wp-admin-bar-umami-tracking-toggle");if(n){const t=n.querySelector("a");t&&(t.textContent=e?umamiSelfExclusion.messages.adminBarExcluded:umamiSelfExclusion.messages.adminBarIncluded,t.className=e?"umami-excluded":"umami-included")}}}function s(e){const n=document.createElement("div");n.className="umami-notification",n.textContent=e,n.style.cssText="\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: #333;\n            color: white;\n            padding: 12px 20px;\n            border-radius: 4px;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n            z-index: 999999;\n            font-size: 14px;\n            animation: slideIn 0.3s ease-out;\n        ";const t=document.createElement("style");t.textContent="\n            @keyframes slideIn {\n                from { transform: translateX(100%); opacity: 0; }\n                to { transform: translateX(0); opacity: 1; }\n            }\n            @keyframes slideOut {\n                from { transform: translateX(0); opacity: 1; }\n                to { transform: translateX(100%); opacity: 0; }\n            }\n        ",document.head.appendChild(t),document.body.appendChild(n),setTimeout(()=>{n.style.animation="slideOut 0.3s ease-out",setTimeout(()=>{n.remove(),t.remove()},300)},3e3)}document.addEventListener("DOMContentLoaded",function(){if(umamiSelfExclusion.isLoggedIn&&umamiSelfExclusion.canExclude&&function(){if(!umamiSelfExclusion.showAdminBar)return;const e=document.getElementById("wp-admin-bar-umami-tracking-toggle");if(e){const n=e.querySelector("a");n&&(n.addEventListener("click",function(e){e.preventDefault(),i()}),o(t()))}}(),umamiSelfExclusion.showButton){if(!umamiSelfExclusion.isLoggedIn&&t())return;const e=function(){const e=document.createElement("button");return e.id=n,e.type="button",e.className="umami-exclusion-toggle-button",e.style.cssText="\n            position: fixed;\n            bottom: 20px;\n            left: 20px;\n            padding: 8px 16px;\n            background: #0073aa;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 14px;\n            z-index: 99999;\n            transition: all 0.3s ease;\n        ",e.addEventListener("mouseenter",function(){this.style.background="#005177"}),e.addEventListener("mouseleave",function(){this.style.background=t()?"#666":"#0073aa"}),e.addEventListener("click",i),o(t()),e}();document.body.appendChild(e)}o(t())})}();